google.maps.__gjsload__('poly', function(_){var pT=function(a,b){return b?_.dz(b,a.map.get("projection")):null},qT=function(a,b){return b?_.zp(b,a.map.get("projection"),!1):null},rT=function(a){for(a=a.toString(16);a.length<2;)a="0"+a;return a},zTa=function(a,b,c,d){let e=null,f=c*c;for(let w=0,x=d.length;w<x;++w){a:{let y,D;var g=void 0;var h=a;var l=b,n=c,p=d[w];const I=p.length;if(!I||n<=0){h=null;break a}let L=0,K=n*n*1.01;const A=[0,0];let W=p[L++]-h,na=p[L++]-l,wa=(W<-n?1:0)|(W>n?2:0)|(na<-n?4:0)|(na>n?8:0);var r=W*W+na*na;!wa&&r<=K&&
(K=r,A[0]=W,A[1]=na);for(;L<I;){D=W;y=na;g=wa;W=p[L++]-h;na=p[L++]-l;wa=(W<-n?1:0)|(W>n?2:0)|(na<-n?4:0)|(na>n?8:0);if(g&wa)continue;r=W*W+na*na;!wa&&r<=K&&(K=r,A[0]=W,A[1]=na);g=W-D;const ya=na-y;var u=g*g+ya*ya;if(u<1E-12)continue;const Ia=W*g+na*ya;Ia<0||Ia>u||(r-=Ia*Ia/u,r<=K&&(K=r,u=1-Ia/u,A[0]=D+g*u,A[1]=y+ya*u))}A[0]+=h;A[1]+=l;A[2]=K;h=K<=n*n?A:null}h&&h[2]<=f&&(f=h[2],e=h)}return e},ATa=function(a,b,c){let d=0;for(let e=0,f=c.length;e<f;++e)d+=_.Vza(a,b,c[e]);return!!(d&1)},sT=function(a,
b,c){const d=a.path;a=a.Zm;const e=[],f=a?[]:null,g=d[0]===d[d.length-2]&&d[1]===d[d.length-1];for(let h=0,l=d.length-2;h<l;h+=2){const n=d[h],p=d[h+1],r=d[h+2],u=d[h+3];let w=null,x=null;a&&(w=a[h/2],x=a[h/2+1]);let y,D;switch(b){case 0:y=n>=c;D=r>=c;break;case 1:y=n<=c;D=r<=c;break;case 2:y=p>=c;D=u>=c;break;case 3:y=p<=c,D=u<=c}!h&&y&&(e.push(n,p),a&&f.push(w));if(y!==D){let I=0;switch(b){case 0:case 1:I=(c-n)/(r-n);e.push(c,p+I*(u-p));break;case 2:case 3:I=(c-p)/(u-p),e.push(n+I*(r-n),c)}a&&f.push(w+
I*(x-w))}D&&(e.push(r,u),a&&f.push(x))}g&&e.length&&(e[0]!==e[e.length-2]||e[1]!==e[e.length-1])&&(e.push(e[0],e[1]),a&&f.push(a[a.length-1]));return{path:e,Zm:f}},BTa=function(a,b){a=sT(a,0,b.minX);a=sT(a,1,b.maxX);a=sT(a,2,b.minY);return sT(a,3,b.maxY)},CTa=function(a){const b=a.length;!b||a[0]===a[b-2]&&a[1]===a[b-1]||(a.push(a[0]),a.push(a[1]))},DTa=function(a,b){for(let d=0,e=a.length;d<e;d+=2){var c=new _.rm(a[d],a[d+1],!0);c=_.dz(c,b);a[d]=c.Dg;a[d+1]=c.Eg}},ETa=function(a){const b=new _.aCa(["mousemove",
"mouseup","mousewheel"]);_.BJ(b,["panes","pixelBounds"],a);return b},tT=function(a){const b=ETa(a);_.Hm(b,"mousemove",_.Cm);_.Hm(b,"mouseup",_.Cm);_.Hm(b,"mousewheel",(...c)=>{const d=a.get("mouseEventTarget");d&&_.Xm(d,"mousewheel",...c)});return b},GTa=function(a){var b=["px","%"];if(!a||!_.ql(b))return null;if(a==="0")return{value:0,unit:b[0]};for(let c=0,d=b.length;c<d;++c){const e=b[c],f=(FTa[e]=FTa[e]||new RegExp(`^(\\d+(?:\\.\\d+)?)${e}$`)).exec(a);if(f)return{value:Number(f[1]),unit:e}}return null},
HTa=function(a,b,c){const d=_.zp(new _.Jp(c.x,c.y),a);a=_.zp(new _.Jp(c.x+b,c.y+b),a);return Math.min(Math.abs(d.lat()-a.lat()),Math.abs(d.lng()-a.lng()))},uT=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z},vT=function(a,b,c){c.x=a.y*b.z-a.z*b.y;c.y=a.z*b.x-a.x*b.z;c.z=a.x*b.y-a.y*b.x},wT=function(a,b){const c=_.Ak(a[0]);a=_.Ak(a[1]);const d=Math.cos(c);b.x=Math.cos(a)*d;b.y=Math.sin(a)*d;b.z=Math.sin(c)},xT=function(a,b){const c=Math.atan2(a.y,a.x);b[0]=_.Bk(Math.atan2(a.z,Math.sqrt(a.x*a.x+a.y*a.y)));
b[1]=_.Bk(c)},JTa=function(a,b,c){c.x=a.x+b.x;c.y=a.y+b.y;c.z=a.z+b.z;ITa(c)},ITa=function(a){const b=Math.sqrt(uT(a,a));b<1E-12||(a.x/=b,a.y/=b,a.z/=b)},KTa=function(a,b){for(;b<a.Dg.length;++b)a.Dg[b].index=b},yT=function(a,b,c,d){const e=b.index,f=b.Ao.get("position");b=(b=b.Ao.get("latLngPosition"))&&a.map?_.dz(b,a.map.get("projection")):null;_.Xm(a,c,e,f,b,d)},LTa=function(a,b,c){if((b=b.Ao.Mg)&&a.map){a=a.map.__gm.get("projectionController");const d=a.fromLatLngToDivPixel(c);b=b(d);if(b=a.fromDivPixelToLatLng(b))return b}return c},
MTa=function(a,b){if(b&&a.mp){if(a.constraint===2)return{clientX:a.mp.clientX,clientY:b.clientY};if(a.constraint===1)return{clientX:b.clientX,clientY:a.mp.clientY}}return b},zT=function(a){const b=a.Eg,c=a.get("center");var d=a.get("radius");if(c&&_.wl(d)){a.Gg=!0;var e=a.get("planetRadius"),f=_.Bk(d/e);var g=_.Ak(c.lat());if(e=d/e){d=Math.cos(e);e=Math.sin(e);var h=Math.sin(g);g=Math.atan2(Math.sin(Math.acos((1-d)/e*Math.tan(g)))*e*Math.cos(g),d-h*h)}else g=0;g=_.Bk(g);b.setAt(0,c);d=c.lat()+f;d<
90?b.setAt(1,new _.rm(d,c.lng())):b.setAt(1,null);f=c.lat()-f;f>-90?b.setAt(2,new _.rm(f,c.lng())):b.setAt(2,null);g<=180?(f=c.lng()+g,g=c.lng()-g,b.setAt(3,new _.rm(c.lat(),f)),b.setAt(4,new _.rm(c.lat(),g))):(b.setAt(3,null),b.setAt(4,null));a.Gg=!1;a.Fg||_.Xm(a,"toolbar",{show:!1})}else b.clear()},NTa=function(a){const b=a.Hg;b&&(b.unbindAll(),b.release(),_.Mm(b),a.Hg=null)},QTa=function(a){var b=a.get("panes");if(!b)return null;b=new AT(a.Eg,OTa,PTa,!1,b.overlayMouseTarget,a.Ig,a.get("map"),a.Yg);
b.bindTo("projection",a);b.bindTo("zoom",a);b.bindTo("projectionCenterQ",a);b.bindTo("panningEnabled",a);b.bindTo("mapPixelBounds",a);b.bindTo("color",a);b.bindTo("zIndex",a);b.bindTo("offset",a);a.Dg.bindTo("freeVertexPosition",b);let c=null,d=null;_.Hm(b,"dragstart",e=>{c=a.get("center");d=a.get("radius");a.Dg.set("freeVertexIsCenter",e===0);a.Dg.set("map",a.get("map"))});_.Hm(b,"dragend",(e,f,g)=>{a.Dg.set("map",null);_.Xm(a,"toolbar",{show:!0,Gw:g,action:()=>{a.set("center",c);a.set("radius",
d)}})});_.Vm(b,"dragstart",a);_.Vm(b,"dragend",a);_.Vm(b,"panbynow",a);return b},RTa=function(a,b,c){return c&&b||a},BT=function(a){let b;if(a.Eg){const c=_.SM(a.get("color"));c&&(c.red=Math.floor((c.red+255)/2),c.green=Math.floor((c.green+255)/2),c.blue=Math.floor((c.blue+255)/2),b=["#",rT(c.red),rT(c.green),rT(c.blue)].join(""))}a.Lg.setFillColor(a.Dg,b||"white")},UTa=function(a,b,c,d){function e(){a.get("editable")?STa(a,b,c,d):(TTa(a),_.Xm(a,"toolbar",{show:!1}))}a.editable_changed=e;e()},STa=
function(a,b,c,d){if(!a.Fg){var e=new _.iO(a,!0);a.Hg=e;var f=new VTa;f.bindTo("strokeColor",e);f.bindTo("strokeOpacity",e,"ghostStrokeOpacity");f.bindTo("strokeWeight",e);f.bindTo("center",a);f.bindTo("radius",a);f.bindTo("planetRadius",c);f.bindTo("zIndex",a);a.Gg=f;var g=b.__gm;a.Dg=tT(g);var h=_.TM(g,a),l=_.pz()?9:0,n=new CT;d=new WTa(f,function(p,r,u){return new DT(p,a.Dg,l,r,h,n,u)},d);d.set("map",b);d.bindTo("center",a);d.bindTo("radius",a);d.bindTo("planetRadius",c);d.bindTo("panes",g);d.bindTo("projection",
b);d.bindTo("zoom",g);d.bindTo("projectionCenterQ",g);d.bindTo("panningEnabled",b,"draggable");d.bindTo("mapPixelBounds",g,"pixelBounds");d.bindTo("offset",g);d.bindTo("color",e,"strokeColor");d.bindTo("zIndex",a);a.Fg=d;_.Vm(d,"panbynow",g);_.Vm(d,"toolbar",a)}},TTa=function(a){const b=a.Fg;b&&(b.unbindAll(),b.set("map",null),_.Mm(b),delete a.Fg,a.Dg?.unbindAll(),a.Dg?.release(),delete a.Dg,a.Gg?.unbindAll(),delete a.Gg,a.Hg?.release(),delete a.Hg)},XTa=function(a,b,c){const d=Array(250);var e=_.Ak(a.lat()),
f=_.Ak(a.lng()),g=Math.cos(b);const h=Math.sin(b),l=Math.cos(e);e=Math.sin(e);if(l>1E-6)for(a=0;a<250;++a){b=a/250*Math.PI*4;b+=Math.sin(b+Math.PI);var n=b/2,p=e*g+l*h*Math.cos(n);b=Math.asin(p);let r=f+Math.atan2(Math.sin(n)*h*l,g-e*p);n=-Math.PI;p=Math.PI-n;r=((r-n)%p+p)%p+n;d[a]=c(_.Bk(b),_.Bk(r))}else for(f=_.Bk(b),f=a.lat()>0?a.lat()-f:a.lat()+f,g=0;g<250;++g)d[g]=c(f,360*g/250);return d},YTa=function(a,b){const c=[XTa(a,b,(d,e)=>new _.rm(d,e))];_.Ak(a.lat())-b<-Math.PI/2&&(a=[new _.rm(-90,-200,
!0),new _.rm(90,-200,!0),new _.rm(90,-100,!0),new _.rm(90,0,!0),new _.rm(90,100,!0),new _.rm(90,200,!0),new _.rm(-90,200,!0),new _.rm(-90,100,!0),new _.rm(-90,0,!0),new _.rm(-90,-100,!0),new _.rm(-90,-200,!0)],c.push(a));return c},ET=function(a,b){const c=a.__gm,d=()=>{const e=a.get("gestureHandling");e!=null?b.set("panningEnabled",e!=="none"):b.set("panningEnabled",a.get("draggable"))};_.Hm(a,"gesturehandling_changed",d);_.Hm(a,"draggable_changed",d);b.bindTo("panes",c);b.bindTo("projectionController",
c);b.bindTo("containerPixelBounds",c,"pixelBounds");c.Dh=_.Vm(b,"panbynow",c)},FT=function(a,b){const c=()=>{const d=a.getMap();a.getDraggable()&&(_.Jn(d,"Od"),_.M(d,147751))};a.draggable_changed=c;c();a.Mg=[_.Hm(a,"mouseover",d=>{d.vertex==null&&d.edge==null&&b.set("poly",a)}),_.Hm(a,"mouseout",d=>{d.vertex!=null||d.edge!=null||d.domEvent&&_.fy(d.domEvent)||b.set("poly",null)})]},GT=function(a){(a.Mg||[]).forEach(_.Jm);delete a.draggable_changed;delete a.Mg},HT=function(a){if(!a.get("active")){var b=
a.get("panes"),c=a.get("projectionController"),d=a.get("poly");if(b!==a.Kg||c!==a.Gg||d!==a.Dg)a.Kg=b,a.Gg=c,a.Dg=d,a.Eg&&a.Eg.forEach(_.Jm),a.Eg=null,a.Kg&&a.Gg&&a.Dg?(a.Eg=[_.Rm(a.Dg,"mousedown",a,a.Rg),_.Rm(a.Dg,"mouseup",a,a.Sg),_.Rm(a.Dg,"movestart",a,a.Og),_.Rm(a.Dg,"move",a,a.Pg),_.Rm(a.Dg,"moveend",a,a.Ng)],a.Eg.push(_.Hm(a.Dg,"editable_changed",()=>{a.get("storeEditable")&&(a.Lg=a.Dg.get("editable"),a.set("storeEditable",!1),a.Dg.set("editable",!1),a.set("storeEditable",!0))})),a.bindTo("draggable",
a.Dg)):(a.unbind("draggable"),a.set("draggable",!1))}},IT=function(a,b,c){var d=a.get("position");d=a.Gg.fromDivPixelToLatLng(d);c=new _.XD(d,c.domEvent);a.Dg&&_.Xm(a.Dg,b,c)},ZTa=function(a){_.aN(a.Hg,a.get("panningEnabled")!==!1&&a.get("dragging"))},bUa=async function(a,b){const c=await _.Wk("geometry");a.Dg=new JT((d,e,f)=>new $Ta(d,e,f,c.spherical.computeHeading,c.spherical.computeOffsetOrigin),a.map,b);ET(a.map,a.Dg);a.Gh.Ng.forEach(d=>{aUa(a,d)})},aUa=function(a,b){if(a.Dg&&a.Yg){var c=new _.kN(["baseMapType"],
"planetRadius",_.No);c.bindTo("baseMapType",a.Gh);var d=b.Ig=new cUa(b);d.set("map",a.map);d.bindTo("radius",b);d.bindTo("center",b);d.bindTo("capturing",b);d.bindTo("clickable",b);d.bindTo("cursor",b);d.bindTo("fillColor",b);d.bindTo("fillOpacity",b);d.bindTo("strokeColor",b);d.bindTo("strokeOpacity",b);d.bindTo("strokeWeight",b);d.bindTo("strokePosition",b);d.bindTo("zIndex",b);d.bindTo("suppressUndo",b);d.bindTo("planetRadius",c);var e=[];KT.forEach(f=>{e.push(_.Vm(d,f,b))});e.push(_.Vm(b,"toolbar",
d));b.oh=e;FT(b,a.Dg);UTa(b,a.map,c,a.Yg);_.M(a.map,147750)}},eUa=function(a){const b=a.getVisible()!=0?a.getMap():null;a.Eg!==b&&(a.Eg&&a.Eg.__gm.Ng.remove(a),b&&(b.__gm.Ng.Dg||new dUa(b),_.uq(b.__gm.Ng,a)),a.Eg=b)},fUa=function(a){a=a.poly.get("latLngs");const b=new LT(0),c=new LT(0);a.forEach(d=>{d.forEach(e=>{wT([e.lat(),e.lng()],c);b.x+=c.x;b.y+=c.y;b.z+=c.z})});ITa(b);a=[0,0];xT(b,a);a[0]=_.tl(a[0],-89,89);return new _.rm(a[0],a[1])},hUa=function(a,b,c,d){a.capturing_changed=()=>{if(a.get("capturing"))if(a.get("clickable")==
0){const e=a.Fg=new gUa;e.bindTo("draggableCursor",a,"cursor");e.set("active",!0);b.bindTo("cursor",e);d.register(e)}else d.setCapture(c,a);else a.Fg?(d.unregister(a.Fg),a.Fg.unbindAll(),b.unbind("cursor"),b.set("cursor",""),delete a.Fg):d.releaseCapture(c,a)}},iUa=function(a){a.Eg||(a.Eg=b=>{_.rl(a.Eg.dk,(c,d)=>{d(b)})},a.Eg.dk={});a.Gg||(a.Gg=(b,c)=>{_.rl(a.Gg.dk,(d,e)=>{e(b,c)})},a.Gg.dk={});a.Fg||(a.Fg=(b,c)=>{_.rl(a.Fg.dk,(d,e)=>{e(b,c)})},a.Fg.dk={})},MT=function(a,b){a.Eg&&delete a.Eg.dk[b];
a.Gg&&delete a.Gg.dk[b];a.Fg&&delete a.Fg.dk[b]},mUa=function(a,b,c){const d=_.$m(b);c in jUa&&(a.Dg[d]=b,NT(b));c in kUa&&(a.Eg[d]=b);lUa(a)},NT=function(a){var b=a.get("latLngs");if(b){a=_.$m(a);MT(b,a);b=b.getArray();for(let c=0,d=b.length;c<d;++c)MT(b[c],a)}},lUa=function(a){a.timeout||(a.timeout=_.yJ(()=>{a.timeout=0;var b=a.Eg;a.Eg={};const c=a.Dg;a.Dg={};for(var d of Object.keys(b)){var e=b[d],f=e.Gg;f.style=nUa(a.Gg,e);f.wB&&!c[d]&&f.wB()}b=a.Fg;d=a.get("projection");for(const g of Object.keys(c))e=
c[g],f=e.Gg,b.remove(f),f.geometry=oUa(e,d),_.uq(b,f),pUa(a,e)}))},pUa=function(a,b){function c(){mUa(e,b,"latLngs")}const d=b.get("latLngs");if(d){var e=a,f=_.$m(b);a=d.getArray();for(let g=0,h=a.length;g<h;++g){const l=a[g];iUa(l);l.Eg.dk[f]=l.Gg.dk[f]=l.Fg.dk[f]=c}iUa(d);d.Gg.dk[f]=d.Fg.dk[f]=(g,h)=>{MT(h,f);c()};d.Eg.dk[f]=c}},qUa=function(a){const b=a.get("projection"),c=a.Eg;if(b){var d=a.Dg,e=d.getLength(),f=a.get("geodesic");for(let g=0;g<e-1;++g)c.setAt(g,OT(d.getAt(g),d.getAt(g+1),f,b,a.interpolate))}else c.clear()},
rUa=function(a,b,c){const d=a.get("projection");if(d){var e=a.Dg,f=e.getAt(c),g=a.Eg,h=a.get("geodesic");c>0&&g.setAt(c-1,OT(e.getAt(c-1),f,h,d,a.interpolate));c<e.getLength()-1&&(a=OT(f,e.getAt(c+1),h,d,a.interpolate),b?g.insertAt(c,a):g.setAt(c,a))}},OT=function(a,b,c,d,e){c?d=e(a,b,.5):(Math.abs(a.lng()-b.lng())>180&&(a=new _.rm(a.lat(),_.ul(a.lng(),b.lng()-180,b.lng()+180),!0)),a=d.fromLatLngToPoint(a),b=d.fromLatLngToPoint(b),d=d.fromPointToLatLng(new _.Rn((a.x+b.x)/2,(a.y+b.y)/2)));return d},
PT=function(a){a.unbindAll();a.release();_.Mm(a);a.Eg&&(a.Eg.release(),a.Eg.unbindAll())},ST=function(a){function b(){_.Xm(c,"toolbar",{show:!1})}const c=a;sUa(c);const d=c.get("paths");a=c.get("panes");if(d&&a){var e=a.overlayMouseTarget;d.forEach(f=>{c.Eg.push(QT(c,f,e));c.get("suppressGhostControlPoints")||c.Dg.push(RT(c,f,e))});b();a=c.Fg;a.push(_.Hm(d,"insert_at",f=>{const g=c.get("suppressGhostControlPoints"),h=d.getAt(f);c.Eg.splice(f,0,QT(c,h,e));g||c.Dg.splice(f,0,RT(c,h,e));b()}));a.push(_.Hm(d,
"remove_at",f=>{const g=c.get("suppressGhostControlPoints");PT(c.Eg[f]);c.Eg.splice(f,1);g||(PT(c.Dg[f]),c.Dg.splice(f,1));b()}));a.push(_.Hm(d,"set_at",f=>{const g=c.get("suppressGhostControlPoints");PT(c.Eg[f]);const h=d.getAt(f);c.Eg[f]=QT(c,h,e);g||(PT(c.Dg[f]),c.Dg[f]=RT(c,h,e));b()}))}},sUa=function(a){a.Eg.forEach(PT);a.Dg.forEach(PT);a.Eg.length=0;a.Dg.length=0;a.Fg.forEach(_.Jm);a.Fg.length=0},uUa=function(a,b,c,d){const e=new AT(b,["pointer"],[0],d,c,a.Gg,a.get("map"),a.Yg);e.bindTo("projection",
a);e.bindTo("zoom",a);e.bindTo("projectionCenterQ",a);e.bindTo("panningEnabled",a);e.bindTo("mapPixelBounds",a);e.bindTo("color",a);e.bindTo("zIndex",a);e.bindTo("offset",a);_.Vm(e,"dragstart",a);_.Vm(e,"dragend",a);_.Vm(e,"panbynow",a);_.Vm(e,"toolbar",a);KT.forEach(f=>{_.Hm(e,f,(g,h,l,n)=>{h=b.getAt(g);let p;if(a.lm){l=d?a.Dg:a.Eg;for(let r=0;r<l.length;++r)if(l[r]===e){p=r;break}}_.Xm(a,f,new tUa(h,n,p,d?void 0:g,d?g:void 0))})});return e},QT=function(a,b,c){const d=uUa(a,b,c,!1),e=a.Sl;let f;
_.Hm(d,"dragstart",g=>{f=b.getAt(g);var h=b.getArray(),l=a.lm;const n=h.length;if(n<2)e.set("anchors",[]);else{var p=h[l&&g===0?n-1:g-1];g=h[l&&g===n-1?0:g+1];h=[];p&&h.push(p);g&&h.push(g);e.set("anchors",h)}e.bindTo("freeVertexPosition",d);e.set("map",a.get("map"))});_.Hm(d,"dragend",(g,h,l)=>{e.set("map",null);_.Xm(a,"toolbar",{show:!0,Gw:l,action:()=>{b.setAt(g,f)}})});return d},RT=function(a,b,c){const d=new _.Lo,e=a.lm?new vUa(b):b,f=new wUa(e,d,a.interpolate);f.bindTo("geodesic",a);f.bindTo("projection",
a);const g=uUa(a,d,c,!0);g.Eg=f;const h=a.Sl;_.Hm(g,"dragstart",l=>{l=[e.getAt(l),e.getAt(l+1)];h.set("anchors",l);h.bindTo("freeVertexPosition",g);h.set("map",a.get("map"))});_.Hm(g,"dragend",(l,n,p)=>{b.insertAt(l+1,d.getAt(l));h.set("map",null);_.Xm(a,"toolbar",{show:!0,Gw:p,action:()=>{b.removeAt(l+1)}})});return g},zUa=function(a,b,c,d,e){function f(){a.get("editable")?(xUa(a,b,d,e),_.Jn(b,"Oe"),_.M(b,147756)):(_.Xm(c,"toolbar",{show:!1,poly:a}),yUa(a))}a.editable_changed=f;f();a.Kg=_.Hm(a,"toolbar",
g=>{g.poly=a;_.Xm(c,"toolbar",g)})},xUa=function(a,b,c,d){if(!a.Jg){var e=new _.iO(a,a.lm);a.Lg=e;var f=new _.bCa;f.bindTo("strokeColor",e);f.bindTo("strokeOpacity",e,"ghostStrokeOpacity");f.bindTo("strokeWeight",e);f.bindTo("geodesic",a);f.bindTo("zIndex",a);a.Sl=f;var g=b.__gm;a.Eg=tT(g);var h=_.TM(g,a),l=_.pz()?9:0,n=new CT,p=new AUa(f,a.lm,function(r,u,w){return new DT(r,a.Eg,l,u,h,n,w)},c,d);p.set("map",b);p.bindTo("paths",a,"latLngs");p.bindTo("panes",g);p.bindTo("projection",b);p.bindTo("zoom",
g);p.bindTo("projectionCenterQ",g);p.bindTo("panningEnabled",b,"draggable");p.bindTo("mapPixelBounds",g,"pixelBounds");p.bindTo("offset",g);p.bindTo("color",e,"strokeColor");p.bindTo("zIndex",a);p.bindTo("geodesic",a);p.bindTo("suppressGhostControlPoints",a);a.Jg=p;_.Vm(p,"panbynow",g);_.Vm(p,"toolbar",a);KT.forEach(r=>{_.Vm(p,r,a)})}},yUa=function(a){const b=a.Jg;b&&(b.unbindAll(),b.set("map",null),_.Mm(b),delete a.Jg,a.Eg.unbindAll(),a.Eg.release(),delete a.Eg,a.Sl.unbindAll(),delete a.Sl,a.Lg.release(),
delete a.Lg)},BUa=function(a){a.Eg&&_.Lm(a.Eg,"suppressundo_changed")},CUa=function(a,b,c){a.Fg(_.no);a.Gg=b;BUa(a);a.Eg=c;_.DJ(a.Dg);_.Hm(c,"suppressundo_changed",()=>{c.get("suppressUndo")&&a.Uj()})},DUa=function(a){return(a||[]).map(b=>(b||[]).map(c=>Math.round(c)))},GUa=function(a,b,c){function d(){g[w++]=l.latLng[0];g[w++]=l.latLng[1];f&&(h[r++]=l.distance);n=l}const e=a.path,f=a.Zm;if(!e.length)return a;const g=Array(e.length),h=f?Array(f.length):null;a=[];let l,n=TT();g[0]=n.latLng[0]=e[0];
g[1]=n.latLng[1]=e[1];f&&(h[0]=n.distance=f[0]);n.depth=0;wT(n.latLng,n.Pt);let p=1,r=1;const u=[];let w=2;for(let y=2;y<e.length||u.length;){u.length?l=u.pop():(l=TT(),l.depth=0,l.latLng[0]=e[y++],l.latLng[1]=e[y++],f&&(l.distance=f[p++]),wT(l.latLng,l.Pt));if(Math.max(n.depth,l.depth)>=12){d();continue}var x=new _.Fo;x.minX=Math.min(n.latLng[0],l.latLng[0]);x.maxX=Math.max(n.latLng[0],l.latLng[0]);x.minY=Math.min(n.latLng[1],l.latLng[1]);x.maxY=Math.max(n.latLng[1],l.latLng[1]);if(!_.Ho(b,x)){d();
continue}const D=TT();JTa(n.Pt,l.Pt,D.Pt);xT(D.Pt,D.latLng);D.depth=Math.max(n.depth,l.depth)+1;f&&(D.distance=(n.distance+l.distance)/2);const I=x.minY-1E-6,L=x.maxY+1E-6;x=D.latLng;x[1]=EUa(I,L,x[1]);FUa(n.latLng,l.latLng,a);Math.max(Math.abs(D.latLng[0]-a[0]),Math.abs(D.latLng[1]-a[1]))<=c?d():(u.push(l),u.push(D))}return{path:g,Zm:h}},FUa=function(a,b,c){c[0]=(a[0]+b[0])/2;c[1]=(a[1]+b[1])/2},EUa=function(a,b,c){for(;c<a;)c+=360;for(;c>b;)c-=360;return c},TT=function(){return{latLng:[0,0],Pt:new LT(0)}},
HUa=function(a){return function(b,c){if(b.unit==="px")b=b.value/a;else{const d=_.ql(c);b=d?b.value/100*c[d-1]:0}return b}},IUa=function(a,b){return function(c,d){if(c===0)return!0;c=a[c];d=a[d];for(let e=0,f;f=b[e];++e){const g=f.offset,h=f.repeat;if(h){if(Math.floor((c-g)/h)!==Math.floor((d-g)/h))return!0}else if(c<g&&g<=d)return!0}return!1}},JUa=function(a,b,c,d){const e=a.minX,f=a.minY,g=a.maxX,h=a.maxY;return function(l,n,p){var r=d[l*2],u=d[l*2+1];l=d[n*2];n=d[n*2+1];var w=Math.min(u,n)-p,x=
Math.max(r,l)+p;const y=Math.max(u,n)+p;Math.min(r,l)-p<=g&&e<=x&&w<=h&&f<=y?p>b?p=!0:(w=c.fromLatLngToPoint(new _.rm(r,u,!0)),x=c.fromLatLngToPoint(new _.rm(l,n,!0)),w=c.fromPointToLatLng(new _.Rn((w.x+x.x)/2,(w.y+x.y)/2),!0),u=(u+n)/2,r=(r+l)/2-w.lat(),l=u-w.lng(),p=Math.sqrt(r*r+l*l)+p>b):p=!1;return p}},LUa=function(a,b,c){return function(d,e,f){const g=d.path,h=d.Zm,l=JUa(a,b,c,g);d=l;if(h){const r=IUa(h,f);d=(u,w,x)=>l(u,w,x)||r(u,w)}const n=[],p=h?[]:null;KUa(e,g.length/2,d,function(r){n.push(g[r*
2],g[r*2+1]);h&&p.push(h[r])});return{path:n,Zm:p}}},NUa=function(a,b,c,d){const e=a.Zm;if(!e)return null;a=a.path;const f=[];for(let l=0,n=a.length-2;l<n;){const p=a[l],r=a[l+1];var g=e[l/2],h=g-b;l+=2;let u=a[l],w=a[l+1];if(MUa(p,r,d)&MUa(u,w,d))continue;for(;_.vl(p,u)&&_.vl(r,w)&&l<n;)l+=2,u=a[l],w=a[l+1];const x=e[l/2]-b,y=Math.atan2(u-p,r-w);g===0&&(h-=1E-9);if(c)for(g=Math.floor(x/c)*c;g>h;){const D=(g-h)/(x-h);f.push(p+(u-p)*D,r+(w-r)*D,y);g-=c}else h<0&&0<=x&&(h=(0-h)/(x-h),f.push(p+(u-p)*
h,r+(w-r)*h,y))}return f},MUa=function(a,b,c){let d=0;_.vl(a,-16,.001)&&(d|=1);_.vl(a,c.jh+16,.001)&&(d|=2);_.vl(b,-16,.001)&&(d|=4);_.vl(b,c.kh+16,.001)&&(d|=8);return d},OUa=function(a,b,c){const d=[];if(c)for(let e=0,f;f=b[e];++e)d.push({offset:a.Eg(f.offset,c),repeat:a.Eg(f.repeat,c)});return d},PUa=function(a,b,c,d){const e=[],f=[];for(let l=0,n=d.length;l<n;++l)f.push([]);for(let l=0,n=b.length;l<n;++l){var g=b[l];let p=g.hI;const r=OUa(a,d,p.Zm);g.nE?p=a.Hg(p,g.nE,r):p={path:p.path.slice(0),
Zm:p.Zm};if(p.path.length){c&&(p=GUa(p,a.Dg,a.Gg));DTa(p.path,a.projection);p=BTa(p,a.Fg);var h=p.path;g=a.Bh.size;if(h.length){e.push(h);for(let u=0;u<h.length;u+=2){const w=_.LA(a.Bh,new _.Jp(h[u],h[u+1]),a.zoom,x=>x);h[u]=(w.qh-a.wn.x)*g.jh;h[u+1]=(w.rh-a.wn.y)*g.kh}for(let u=0,w;w=r[u];++u)(h=NUa(p,w.offset,w.repeat,g))&&(f[u]=f[u].concat(h))}}}return{paths:e,Oy:f}},SUa=function(a,b,c){const d=QUa(a,b,c);a=RUa(d,c);return{canvas:d,context:a,CG:a?new _.UBa(a):null,release:()=>{d.width=d.height=
0}}},QUa=function(a,b,c){a=a.createElement("canvas");a.width=b.jh*c;a.height=b.kh*c;a.style.width=_.Ll(b.jh);a.style.height=_.Ll(b.kh);_.Oq(a);return a},RUa=function(a,b){a=a.getContext("2d");if(!a)return null;a.scale(b,b);a.lineCap=a.lineJoin="round";return a},TUa=function(a,b,c,d,e){for(let I=0,L=a.length;I<L;++I){var f=b[I],g=c,h=d,l=a[I],n=f.VF,p=f.scale,r=f.rotation,u=f.UL,w=f.strokeColor,x=f.strokeOpacity/e,y=f.strokeWeight,D=f.fillColor;f=f.fillOpacity/e;g.beginPath();for(let K=0,A=l.length;K<
A;K+=3)h.Ih(n,l[K],l[K+1],r+(u?l[K+2]:0),p);f&&(g.fillStyle=D,g.globalAlpha=f,g.fill());y&&(g.lineWidth=y,g.strokeStyle=w,g.globalAlpha=x,g.stroke())}},UT=function(a){a.Fg||(a.Fg=_.yJ(()=>{a.Fg=0;const b=UUa(a);if(b.length){a.Dg||(a.Dg=SUa(a.mt,a.tileSize,a.Gg),_.lz(a.Dg.canvas,_.no));var c=a.Dg.context;a:{for({lk:d}of b)if(d&&d.xl){var d=d.xl;break a}d=null}if(c){a.Dg.canvas.parentNode||a.container.appendChild(a.Dg.canvas);c.clearRect(0,0,a.tileSize.jh,a.tileSize.kh);for(let e=0;e<b.length;++e){const f=
b[e],g=f.EB,h=g.UM;if(_.vl(1,h))a.Hg(c,f.paths,g.strokeColor,g.strokeOpacity,g.strokeWeight,g.strokePosition,g.Su,g.fillColor,g.fillOpacity),TUa(f.Oy,g.EG,c,a.Dg.CG,1);else{a.Eg||(a.Eg=SUa(a.mt,a.tileSize,a.Gg));const l=a.Eg.context;l&&(l.clearRect(0,0,a.tileSize.jh,a.tileSize.kh),a.Hg(l,f.paths,g.strokeColor,g.strokeOpacity/h,g.strokeWeight,g.strokePosition,g.Su),TUa(f.Oy,g.EG,l,a.Eg.CG,h),c.globalAlpha=h,c.drawImage(a.Eg.canvas,0,0,a.tileSize.jh,a.tileSize.kh))}}d&&d()}else d&&d()}else a.Dg&&a.Dg.canvas.parentNode&&
a.container.removeChild(a.Dg.canvas),VUa(a)}))},UUa=function(a){const b=[];a=a.Pi;for(const c of Object.keys(a))b.push(a[c]);b.sort((c,d)=>c.zIndex-d.zIndex);return b},VUa=function(a){a.Dg&&(a.Dg.release(),a.Dg=null);a.Eg&&(a.Eg.release(),a.Eg=null)},WUa=function(a,b,c){function d(l,n,p){p=p?r=>r:Math.round;l.beginPath();for(let r=0,u;u=n[r];++r)if(u.length){l.moveTo(p(u[0]),p(u[1]));for(let w=2,x=u.length;w<x;)l.lineTo(p(u[w++]),p(u[w++]))}}const e=c.size,f=a.createElement("canvas");f.width=b*e.jh;
f.height=b*e.kh;const g=f.getContext("2d");g.lineCap=g.lineJoin="round";g.scale(b,b);const h=[function(l,n,p,r,u){l.lineWidth=u;l.strokeStyle=p;l.globalAlpha=r;l.stroke()},function(l,n,p,r,u){l.lineWidth=u*2;l.strokeStyle=p;l.globalAlpha=r;l.save();l.clip();l.stroke();l.restore()},function(l,n,p,r,u,w){g.lineWidth=u*2;g.strokeStyle=p;g.globalCompositeOperation="source-over";g.clearRect(0,0,e.jh,e.kh);d(g,n,w);g.stroke();g.globalCompositeOperation="destination-out";g.fill();l.globalAlpha=r;l.drawImage(f,
0,0,e.jh,e.kh)}];return function(l,n,p,r,u,w,x,y,D){d(l,n,x);y!=null&&D&&(l.fillStyle=y,l.globalAlpha=D,l.fill());if(u)h[w](l,n,p,r,u,x)}},YUa=function(a,b,c){a.Dg=a.Dg||WUa(a.mt,b,a.Bh);return new XUa(a.mt,c,a.Bh,a.Dg,b)},$Ua=function(a,b){b.wB=()=>{Object.values(b.geometry.Pi).forEach(d=>{d.EB=b.style;d.zIndex=b.style.zIndex;UT(d.lk.FB)})};const c=b.geometry.bounds;c.poly=b;b.bounds=c;_.UM(a.Dg,c);a=a.Eg.search(c);for(let d=0,e=a.length;d<e;++d)ZUa(b,a[d].Gi)},aVa=function(a,b){delete b.wB;a.Dg.remove(b.bounds);
a=b.geometry;Object.values(a.Pi).forEach(c=>{const d=c.lk;var e=d.FB;delete e.Pi[_.$m(c)];UT(e);delete d.Pi[_.$m(c)]});a.Pi={}},bVa=function(a,b){const c=b.bounds;c.Gi=b;_.UM(a.Eg,c);a=a.Dg.search(b.bounds);if(a.length===0)b.xl&&_.jq(b.xl.bind(b));else for(let d=0,e=a.length;d<e;++d)ZUa(a[d].poly,b)},cVa=function(a,b){a.Eg.remove(b.bounds);Object.values(b.Pi).forEach(c=>{delete c.YF.Pi[_.$m(c)]});b.Pi={}},ZUa=function(a,b){const c=a.geometry;var d=PUa(b.YM,c.LK,c.geodesic,c.symbols);d.paths.length?
(a={paths:d.paths,Oy:d.Oy,EB:a.style,zIndex:a.style.zIndex,lk:b,YF:c},d=_.$m(a),c.Pi[d]=a,b.Pi[d]=a,b=b.FB,b.Pi[_.$m(a)]=a,UT(b)):b.xl&&_.jq(b.xl.bind(b))},eVa=function(a){return(a||[]).map(b=>{const c=b.path;let d=Infinity,e=Infinity,f=-Infinity,g=-Infinity;for(let l=0,n=c.length;l<n;){var h=c[l++];d=Math.min(d,h);f=Math.max(f,h);h=c[l++];e=Math.min(e,h);g=Math.max(g,h)}h=new _.Fo;h.minX=d;h.maxX=f;h.minY=e;h.maxY=g;return{hI:b,bounds:h,...(c.length>=50&&{nE:dVa(c)})}})},hVa=function(a,b,c,d){return a.map(e=>
{const f=e.path;e=e.Zm;var g=null;if(b){g=c?fVa(f):gVa(f,d);const h=new Map;h.set(0,0);let l=0;const n=[0];for(let p=1,r=e.length;p<r;++p){const u=e[p];h.has(u)?l=h.get(u):(l+=g(p-1),h.set(u,l));n.push(l)}g=n}return{path:f,Zm:g}})},gVa=function(a,b){const c=a.slice(0);DTa(c,b);return d=>{d*=2;const e=c[d]-c[d+2];d=c[d+1]-c[d+3];return Math.sqrt(e*e+d*d)}},fVa=function(a){return b=>{b*=2;const c=new _.rm(a[b],a[b+1]);b=new _.rm(a[b+2],a[b+3]);return _.XI(c,b,1)}},lVa=function(a){a.length&&(a=iVa(a,
jVa),a=iVa(a,kVa));return a},iVa=function(a,b){const c=[];let d=new LT(0);const e=new LT(0);let f=new LT(0);const g=Array(a.length);g[0]=a[0];g[1]=a[1];wT(a,d);for(let h=2,l=2;h<a.length;){c[0]=a[h];c[1]=a[h+1];wT(c,f);b(d,f,e)&&(xT(e,c),g[l++]=c[0],g[l++]=c[1]);g[l++]=a[h++];g[l++]=a[h++];const n=d;d=f;f=n}return g},jVa=function(a,b,c){if(a.z>0===b.z>0)return!1;vT(a,b,VT);vT(VT,mVa,c);c.z=0;if(uT(c,c)<1E-12)return!1;uT(c,a)+uT(c,b)<0&&(c.x=-c.x,c.y=-c.y);return!0},kVa=function(a,b,c){vT(a,b,VT);
vT(mVa,VT,WT);vT(VT,WT,c);if(uT(c,c)<1E-12||uT(a,WT)>0===uT(b,WT)>0)return!1;uT(c,a)+uT(c,b)<0&&(c.x=-c.x,c.y=-c.y,c.z=-c.z);return!0},nVa=function(a,b,c){if(!b)return null;const d=[];b.forEach(e=>{var f=d.push;e=e.Dg;const g=e.length,h=Array(g*2);for(let l=0,n=0;l<g;++l){const p=e[l];h[n++]=p.lat();h[n++]=p.lng()}f.call(d,h)});if(a)for(const e of d)CTa(e);if(c)for(let e=0,f=d.length;e<f;++e)d[e]=lVa(d[e]);return d},oVa=function(a){return(a||[]).map(b=>{if(b.length){var c=b[1];var d=[0];for(let e=
1,f=1;e<b.length/2;++e,++f){const g=b[2*e+1];if(Math.abs(c-g)>180){const h=g<c?1:-1,l=b[2*e-2],n=b[2*e];b.splice(2*e,0,n,g+360*h,n,g+450*h,90,g+450*h,90,c-450*h,l,c-450*h,l,c-360*h);d.push(f,f,f,f,f,f-1);e+=6}d.push(f);c=g}c=d}else c=[];return{path:b,Zm:c}})},pVa=function(a){return a.map(b=>GUa(b,_.Ju,.1))},oUa=function(a,b){var c=a.get("icons"),d=!a.lm&&!!_.ql(c);let e=!0;c=d?c.map(l=>{const n=GTa(l.offset)||qVa;l=GTa(l.repeat)||rVa;e=e&&(n.value===0||n.unit==="%")&&(l.value===0||l.unit==="%");return{offset:n,
repeat:l}}):[];const f=a.get("geodesic");var g=nVa(a.lm,a.get("latLngs"),f);g=oVa(g);const h=f&&e;f&&d&&!h&&(g=pVa(g));g=hVa(g,d,h,b);b=eVa(g);if(b.length===1)d=b[0].bounds;else{d=new _.Fo;for(let l=0,n=b.length;l<n;++l)d.extendByBounds(b[l].bounds)}return{bounds:d,Zz:a,geodesic:f,LK:b,Pi:{},symbols:c}},nUa=function(a,b){const c=b.lm,d=u=>{const w=b.get(u);return c?_.yl(w,a.Dg[u]):_.yl(w,a.Fg[u])},e=(b.get("zIndex")||0)*1E3+_.Ba(b)%1E3,f=c?d("strokePosition"):a.Dg.strokePosition;var g=f===0?32:16;
const h=Math.min(d("strokeWeight"),g),l=d("strokeColor"),n=d("strokeOpacity");g=[];let p=1;if(!c){const u=b.get("icons")||[];g=u.map(x=>{const y=a.Eg(x.icon||{},l,n,h);y.UL=!x.fixedRotation;return y});let w=0;for(var r of g)w=Math.max(w,r.strokeOpacity),w=Math.max(w,r.fillOpacity);_.vl(0,w)||(_.vl(0,n)||_.vl(0,h))&&g.length===1||(p=Math.max(w,n));_.ql(u)&&(r=b.get("map"),_.Jn(r,"Os"),_.M(r,147754))}if(!(r=b.get("hitStrokeWeight")))a:switch(f){case 1:r=0;break a;case 2:r=h*2;break a;default:r=h}return{strokeColor:l,
strokeOpacity:n,strokeWeight:h,strokePosition:f,cK:r,...(c&&{fillColor:d("fillColor"),fillOpacity:d("fillOpacity")}),zIndex:e,clickable:d("clickable"),EG:g,UM:p,lm:c,Su:!!b.Su}},xVa=function(a,b){a.Eg=new sVa(a.tiles,a.Gh,b.yj,a.Gg);a.Gh.Jg.register(a.Eg);a.Dg=tVa(a,b);_.Wk("geometry").then(c=>{a.geometry=c;a.Fg=new JT((d,e,f)=>d.get("geodesic")&&a.geometry!=null?new uVa(d,e,f,a.geometry.spherical.computeHeading,a.geometry.spherical.computeOffset,a.geometry.spherical.computeOffsetOrigin):new vVa(d,
e,f),a.map,b);ET(a.map,a.Fg);a.Gh.Lg.forEach(d=>{wVa(a,d)})})},wVa=function(a,b){a.Fg&&a.Dg&&a.Eg&&a.geometry&&a.Yg&&(FT(b,a.Fg),zUa(b,a.map,a.Dg,a.geometry.spherical.interpolate,a.Yg),hUa(b,a.Gh,a.Eg,a.Gh.Jg),b.Ig||(_.Jn(a.map,b.lm?"Op":"Ol"),_.M(a.map,b.lm?147752:147753)))},tVa=function(a,b){b=new XT(b);b.bindTo("panes",a.Gh);b.bindTo("projection",a.map);b.bindTo("zoom",a.Gh);b.bindTo("projectionCenterQ",a.Gh);b.bindTo("offset",a.Gh);_.Rm(a.map,"click",b,b.Uj);return b},zVa=function(a){const b=
a.getVisible()!=0?a.getMap():null;a.Hg!==b&&(a.Hg&&a.Hg.__gm.Lg.remove(a),b&&(b.__gm.Lg.Dg||new yVa(b),_.uq(b.__gm.Lg,a)),a.Hg=b)},AVa=function(a,b,c){if(!a||!b||!c)return null;var d=c.lat();const e=c.lng();c=b&1?d:a.ni.lo;let f=b&2?e:a.Kh.lo;d=b&4?d:a.ni.hi;let g=b&8?e:a.Kh.hi;if(c>d){var h=c;c=d;d=h}b&10&&!a.Kh.contains(e)&&(h=_.tn(e,a.Kh.lo),a=_.tn(a.Kh.hi,e),b&2?h>a:a>h)&&(b=f,f=g,g=b);return _.Bn(c,f,d,g)},YT=function(a){a&&(a.unbindAll(),a.release(),_.Mm(a))},HVa=function(a,b,c){let d;d=c?new AT(a.Eg,
BVa,CVa,!1,b.overlayMouseTarget,a.Kg,a.get("map"),a.Jg):new AT(a.Hg,DVa,EVa,!0,b.overlayMouseTarget,a.Kg,a.get("map"),a.Jg);d.bindTo("projection",a);d.bindTo("zoom",a);d.bindTo("projectionCenterQ",a);d.bindTo("panningEnabled",a);d.bindTo("mapPixelBounds",a);d.bindTo("color",a);d.bindTo("zIndex",a);d.bindTo("offset",a);const e=c?FVa:GVa;let f;_.Hm(d,"dragstart",g=>{f=a.get("bounds");a.Dg.bindTo("freeVertexPosition",d);a.Dg.set("freeControlPoint",e[g]);a.Dg.set("map",a.get("map"))});_.Hm(d,"dragend",
(g,h,l)=>{a.Dg.set("map",null);_.Xm(a,"toolbar",{show:!0,Gw:l,action:()=>{a.set("bounds",f)}})});_.Vm(d,"dragstart",a);_.Vm(d,"dragend",a);_.Vm(d,"panbynow",a);return d},IVa=function(a,b,c){a.Fg||(a.Fg=!0,b=AVa(a.get("bounds"),b,c),a.set("bounds",b),a.Fg=!1)},LVa=function(a,b,c){function d(){a.get("editable")?JVa(a,b,c):(KVa(a),_.Xm(a,"toolbar",{show:!1}))}a.editable_changed=d;d()},JVa=function(a,b,c){if(!a.Fg){var d=new _.iO(a,!0);a.Hg=d;var e=new MVa;e.bindTo("strokeColor",d);e.bindTo("strokeOpacity",
d,"ghostStrokeOpacity");e.bindTo("strokeWeight",d);e.bindTo("bounds",a);e.bindTo("zIndex",a);a.Gg=e;var f=b.__gm;a.Dg=tT(f);var g=_.TM(f,a),h=_.pz()?9:0,l=new CT;c=new NVa(e,function(n,p,r){return new DT(n,a.Dg,h,p,g,l,r)},c);c.set("map",b);c.bindTo("bounds",a);c.bindTo("panes",f);c.bindTo("projection",b);c.bindTo("zoom",f);c.bindTo("projectionCenterQ",f);c.bindTo("panningEnabled",b,"draggable");c.bindTo("mapPixelBounds",f,"pixelBounds");c.bindTo("offset",f);c.bindTo("color",d,"strokeColor");c.bindTo("zIndex",
a);c.bindTo("suppressGhostControlPoints",a);a.Fg=c;_.Vm(c,"panbynow",f);_.Vm(c,"toolbar",a)}},KVa=function(a){const b=a.Fg;b&&(b.unbindAll(),b.set("map",null),_.Mm(b),delete a.Fg,a.Dg?.unbindAll(),a.Dg?.release(),delete a.Dg,a.Gg?.unbindAll(),delete a.Gg,a.Hg?.release(),delete a.Hg)},QVa=function(a,b){a.Eg=new JT((c,d,e)=>new OVa(c,d,e),a.Dg,b);ET(a.Dg,a.Eg);a.Gh.Og.forEach(c=>{PVa(a,c)})},PVa=function(a,b){if(a.Eg&&a.Yg){var c=b.Ig=new RVa(b);c.set("map",a.Dg);c.bindTo("bounds",b);c.bindTo("capturing",
b);c.bindTo("cursor",b);c.bindTo("clickable",b);c.bindTo("fillColor",b);c.bindTo("fillOpacity",b);c.bindTo("strokeColor",b);c.bindTo("strokeOpacity",b);c.bindTo("strokeWeight",b);c.bindTo("strokePosition",b);c.bindTo("suppressUndo",b);c.bindTo("zIndex",b);var d=[];b.oh=d;KT.forEach(e=>{d.push(_.Vm(c,e,b))});d.push(_.Vm(b,"toolbar",c));FT(b,a.Eg);LVa(b,a.Dg,a.Yg);_.Jn(a.Dg,"Or");_.M(a.Dg,147755)}},TVa=function(a){const b=a.getVisible()!=0?a.getMap():null;a.Eg!==b&&(a.Eg&&a.Eg.__gm.Og.remove(a),b&&
(b.__gm.Og.Dg||new SVa(b),_.uq(b.__gm.Og,a)),a.Eg=b)},KT="click dblclick mousedown mousemove mouseout mouseover mouseup rightclick contextmenu".split(" "),FTa={};var LT=class{constructor(a){this.y=this.x=0;this.z=a}equals(a){return this.x===a.x&&this.y===a.y&&this.z===a.z}};var AT=class extends _.an{constructor(a,b,c,d,e,f,g,h){super();this.Mg=a;this.Ig=b;this.Hg=c;this.Fg=d;this.Lg=f;this.map=g;this.Yg=h;this.Dg=[];this.container=_.mz("div",e,_.no);a.forEach(this.Gg.bind(this));const l=()=>{this.Fg||_.Xm(this,"toolbar",{show:!1})};this.Jg=[_.Hm(a,"insert_at",n=>{this.Gg(a.getAt(n),n);KTa(this,n+1);l()}),_.Hm(a,"remove_at",n=>{const p=this.Dg[n];this.Dg.splice(n,1);this.Kg(p);KTa(this,n);l()}),_.Hm(a,"set_at",n=>{this.Dg[n].Ao.set("latLngPosition",a.getAt(n));l()})]}release(){this.Jg.forEach(_.Jm);
this.Jg.length=0;this.Dg.forEach(this.Kg.bind(this));this.Dg.length=0;_.Mm(this.container);_.Ik(this.container)}zIndex_changed(){let a=this.get("zIndex")||0;this.Fg&&--a;_.nz(this.container,a)}Gg(a,b){const c={};c.index=b;this.Dg.splice(b,0,c);c.constraint=this.Hg[b%this.Hg.length];const d=this.Lg(this.container,this.Ig[b%this.Ig.length],this.Fg);d.bindTo("color",this);d.bindTo("panningEnabled",this);d.bindTo("mapPixelBounds",this);c.Ao=d;b=[_.Vm(d,"panbynow",this)];const e=a&&this.map?_.dz(a,this.map.getProjection()):
null;d.set("latLngPosition",a);c.Gv=!0;c.mp=null;c.ht=null;a=new _.eO(this.Yg.yj,{Zn:f=>{f?d.set("position",new _.Rn(f.jh,f.kh)):d.set("position",null)},xs:()=>{}},e,this.Yg,()=>{if(this.map){var f=c.Lj.getPosition();f&&(f=_.zp(f,this.map.getProjection()),c.Gv=!1,c.Ao.set("latLngPosition",f),c.Gv=!0)}});this.Yg.Ni(a);c.Lj=a;b.push(_.Hm(d,"latlngposition_changed",()=>{if(c.Gv&&this.map){var f=c.Ao.get("latLngPosition");f?c.Lj.setPosition(_.dz(f,this.map.get("projection"))):c.Lj.setPosition(null)}}));
b.push(_.Hm(d,"dragstart",()=>{this.rm(c)}));b.push(_.Hm(d,"dragend",()=>{this.Jm(c)}));b.push(_.Hm(d,"deltaclientposition_changed",()=>{this.mn(c)}));b.push(_.Hm(d,"dragstart",f=>{this.bindTo("freeVertexPosition",d,"latLngPosition");yT(this,c,"dragstart",f)}));b.push(_.Hm(d,"dragend",f=>{this.Mg.setAt(c.index,d.get("latLngPosition"));yT(this,c,"dragend",f)}));for(const f of KT)b.push(_.Hm(d,f,g=>{yT(this,c,f,g)}));c.oh=b}rm(a){a.mp=a.Lj.gn();a.mp&&_.bN(a.Lj,a.mp)}Jm(a){var b=a.Lj.getPosition();if(b&&
this.map&&(b=_.zp(b,this.map.get("projection")),b=LTa(this,a,b))&&(b=_.dz(b,this.map.get("projection")),b=a.Lj.gn(b),b=MTa(a,b))&&(b=a.Lj.getPosition(b))){const c=_.zp(b,this.map.get("projection"));a.Gv=!1;a.Ao.set("latLngPosition",c);a.Gv=!0;a.Lj.setPosition(b)}a.mp=null;a.ht=null}mn(a){var b=a.Ao.get("deltaClientPosition");if(b&&(a.mp||a.ht)&&this.map){var c=a.ht||a.mp;a.ht={clientX:c.clientX+b.clientX,clientY:c.clientY+b.clientY};b=this.Yg.Pl(a.ht);b=_.zp(b,this.map.get("projection"));c=a.ht;var d=
LTa(this,a,b);d&&!d.equals(b)&&(b=_.dz(d,this.map.get("projection")),c=a.Lj.gn(b));(c=MTa(a,c))&&_.bN(a.Lj,c)}}Kg(a){a.Ao.unbindAll();a.Ao.release();a.Lj&&this.Yg.Bl(a.Lj);a.oh.forEach(_.Jm);a.oh.length=0}};var WTa=class extends _.an{center_changed(){zT(this)}radius_changed(){zT(this)}planetRadius_changed(){zT(this)}constructor(a,b,c){super();this.Dg=a;this.Yg=c;this.Hg=null;this.Gg=this.Fg=!1;this.Ig=b;this.Eg=new _.Lo;_.Rm(this.Eg,"set_at",this,this.Jg)}map_changed(){this.get("map")||(this.Dg.set("map",null),NTa(this),_.Mm(this.Eg))}panes_changed(){NTa(this);this.Hg=QTa(this)}Jg(a){if(!this.Gg){var b=this.Eg.getAt(a);if(a===0)_.xJ(this,function(){this.Fg=!0;this.set("center",b);this.Fg=!1},0);else{const c=
_.XI(this.get("center"),b,this.get("planetRadius"));_.xJ(this,function(){this.Fg=!0;this.set("radius",c);this.Fg=!1},0)}}}},OTa=["pointer","row-resize","row-resize","col-resize","col-resize"],PTa=[0,2,2,1,1];var CT=class{construct(a,b,c,d,e){a=_.mz("div",a,new _.Rn(b,b),new _.Tn(c,c));a.style.borderWidth=_.Ll(d);a.style.borderStyle="solid";a.style.borderRadius=_.Ll(Math.ceil(c/2+d));_.FJ(a,e)}setFillColor(a,b){a.firstChild.style.backgroundColor=b}};var VTa=class extends _.an{constructor(){super();const a=new _.So({clickable:!1,fillOpacity:0});a.bindTo("map",this);a.bindTo("strokeColor",this);a.bindTo("strokeOpacity",this);a.bindTo("strokeWeight",this);var b=["center","freeVertexPosition","freeVertexIsCenter"],c=new _.kN(b,"return",RTa);_.BJ(c,b,this);a.bindTo("center",c,"return");b=["center","radius","planetRadius","freeVertexPosition","freeVertexIsCenter"];c=new _.kN(b,"return",(d,e,f,g,h)=>!h&&g&&d?_.XI(g,d,f):e);_.BJ(c,b,this);a.bindTo("radius",
c,"return");this.Dg=_.lN();this.Dg.bindTo("zIndex",this);a.bindTo("zIndex",this.Dg,"ghostZIndex")}};var DT=class extends _.an{constructor(a,b,c,d,e,f,g){super();this.Mg=e;this.Eg=!1;a=_.mz("div",a);a.style.display="none";e=9+2*(1+c);_.Lq(a,new _.Tn(e,e));f.construct(a,c,9,1,g?.5:1);g=new _.VBa(a,!0);g.bindTo("containerPixelBounds",this,"mapPixelBounds");g.bindTo("panningEnabled",this);g.set("draggableCursor",d);g.bindTo("position",this);g.bindTo("deltaClientPosition",this);this.Dg=a;this.Jg=b;this.Kg=c;this.Fg=g;this.Lg=f;this.Gg=[_.Hm(g,"dragstart",()=>{b.set("draggableCursor",d);b.set("active",
!0)}),_.Hm(g,"dragend",()=>{b.set("active",!1)}),_.Vm(g,"panbynow",this),_.Vm(g,"dragstart",this),_.Vm(g,"dragend",this)];this.Hg=_.jA(a,{Ck:h=>{_.Vz(h);_.Xm(this,"mousedown",h.Dg)},Iq:h=>{_.Wz(h);_.Xm(this,"mousemove",h.Dg)},yl:h=>{_.Wz(h);_.Xm(this,"mousemove",h.Dg)},Nk:h=>{_.Xz(h);_.Xm(this,"mouseup",h.Dg)},Tl:({event:h,Dq:l})=>{_.Uy(h.Dg);h.button===3?l||_.Xm(this,"rightclick",h.Dg):l?_.Xm(this,"dblclick",h.Dg):_.Xm(this,"click",h.Dg)},Kt:h=>{_.Yz(h);_.Xm(this,"contextmenu",h.Dg)}});this.Ig=new _.WD(a,
a,{os:h=>{this.Eg=!1;BT(this);_.Em(h);_.Fm(h);_.Xm(this,"mouseout",h)},ps:h=>{this.Eg=!0;BT(this);_.Em(h);_.Fm(h);_.Xm(this,"mouseover",h)}})}release(){_.Ik(this.Dg);this.Gg.forEach(_.Jm);this.Gg.length=0;this.Hg.remove();this.Ig.remove();this.Fg.unbindAll();this.Fg.release();this.Jg.set("active",!1)}position_changed(){const a=this.get("position");if(a){this.Dg.style.display="block";var b=5+this.Kg;_.lz(this.Dg,new _.Rn(a.x-b,a.y-b))}else this.Dg.style.display="none"}color_changed(){const a=this.get("color");
this.Dg.firstChild.style.borderColor=a;BT(this)}};var $Ta=class{constructor(a,b,c,d,e){this.Fg=a;this.Eg=c;a=a.get("center");b=c.fromDivPixelToLatLng(b);this.Gg=d(a,b);this.Dg=_.XI(b,a);this.computeOffsetOrigin=e}moveTo(a){a=this.Eg.fromDivPixelToLatLng(a);var b=this.computeOffsetOrigin(a,this.Dg,this.Gg);b||(b=_.XI(a,UVa)-this.Dg,a=_.XI(a,VVa)-this.Dg,b=Math.abs(b)<Math.abs(a)?UVa:VVa);this.Fg.set("center",b)}},UVa=new _.rm(90,0),VVa=new _.rm(-90,0);var cUa=class extends _.an{constructor(a){super();this.Eg=[];const b=new _.bw;this.poly=b;b.Dg=a;b.Ig=!0;b.bindTo("capturing",this);b.bindTo("cursor",this);b.bindTo("map",this);b.bindTo("strokeColor",this);b.bindTo("strokeOpacity",this);b.bindTo("strokeWeight",this);b.bindTo("strokePosition",this);b.bindTo("fillColor",this);b.bindTo("fillOpacity",this);b.bindTo("clickable",this);b.bindTo("zIndex",this);b.bindTo("suppressUndo",this);b.Su=!0;const c=this.Eg;KT.forEach(d=>{c.push(_.Vm(b,d,this))});c.push(_.Vm(this,
"toolbar",b));this.Dg=new _.nq(()=>{const d=this.poly;if(d){var e=this.get("radius"),f=this.get("center");_.wl(e)&&f?(e/=Number(this.get("planetRadius")),d.setPaths(YTa(f,e))):d.setPaths([])}},0)}center_changed(){_.oq(this.Dg)}radius_changed(){_.oq(this.Dg)}planetRadius_changed(){_.oq(this.Dg)}release(){const a=this.Eg;for(let b=0,c=a.length;b<c;++b)_.Jm(a[b]);this.Eg=[];this.poly.unbindAll();this.poly=null}};var ZT=new _.Tn(30,30),WVa=new _.Rn(ZT.width/2,ZT.height/2),JT=class extends _.an{constructor(a,b,c){super();this.Qg=a;this.Eg=this.Gg=this.Mg=this.Kg=this.Dg=null;this.Lg=!1;this.Ig=b;this.Fg=new _.eO(c.yj,{Zn:d=>{d&&this.set("position",new _.Rn(d.jh,d.kh))},xs:()=>{}},null,c);c.Ni(this.Fg);this.Hg=new _.cO((d,e)=>{_.Xm(this,"panbynow",d,e)});a=new _.kN(["waitingForQuiver","dragging"],"active",(d,e)=>d||e);a.bindTo("dragging",this,null,!0);a.bindTo("waitingForQuiver",this,null,!0);this.bindTo("active",
a,null,!0)}release(){this.Hg.release();this.Eg&&this.Eg.forEach(_.Jm);this.Eg=null}Og(a){if(this.get("draggable")&&this.Dg&&(!a.domEvent||!_.fy(a.domEvent))&&(a.stop(),!this.get("dragging")&&a.latLng)){this.Jg=a;this.set("position",this.Gg.fromLatLngToDivPixel(a.latLng));var b=_.dz(a.latLng,this.Ig.getProjection());(b=this.Fg.gn(b))&&_.bN(this.Fg,b);b=this.get("position");this.set("dragging",!0);this.set("waitingForQuiver",!1);this.Mg=this.Qg(this.Dg,b,this.Gg);IT(this,"dragstart",a);this.Lg=this.Dg.get("editable");
this.Dg.set("editable",!1);this.set("storeEditable",!0)}}Pg(a){this.get("dragging")&&(this.Jg=a,a.latLng&&(a=_.dz(a.latLng,this.Ig.getProjection()),(a=this.Fg.gn(a))&&_.bN(this.Fg,a)))}Ng(a){if(this.get("dragging")){var b=this.Fg.getPosition();if(b){var c=_.zp(b,this.Ig.getProjection());c=this.Gg.fromLatLngToDivPixel(c);this.Jg=a;this.set("position",c);this.Fg.setPosition(b)}this.set("storeEditable",!1);this.Dg.set("editable",this.Lg);IT(this,"dragend",a);this.set("dragging",!1)}}position_changed(){const a=
this.get("position");a?_.YM(this.Hg,_.aAa(a,ZT,WVa)):_.YM(this.Hg,null);this.get("dragging")&&(this.Mg.moveTo(a),IT(this,"drag",this.Jg))}containerPixelBounds_changed(){_.$M(this.Hg,this.get("containerPixelBounds"))}Rg(){this.get("dragging")||this.set("waitingForQuiver",!0)}Sg(){this.set("waitingForQuiver",!1)}active_changed(){HT(this)}panes_changed(){HT(this)}poly_changed(){HT(this)}projectionController_changed(){HT(this)}dragging_changed(){ZTa(this)}panningEnabled_changed(){ZTa(this)}};var dUa=class{constructor(a){this.map=a;this.Yg=this.Dg=null;this.Gh=a.__gm;this.Gh.Eg.then(({Yg:b})=>{this.Yg=b;bUa(this,b)});this.Gh.Ng.Dg=b=>{aUa(this,b)};this.Gh.Ng.onRemove=b=>{this.onRemove(b)}}onRemove(a){if(this.Yg){var b=a.Ig;b.unbindAll();b.set("map",null);b.release();delete a.Ig;a.oh&&a.oh.forEach(_.Jm);delete a.oh;GT(a);delete a.editable_changed;TTa(a)}}};var uVa=class{constructor(a,b,c,d,e,f){this.poly=a;this.Gg=c;this.computeOffset=e;this.computeOffsetOrigin=f;const g=fUa(this);b=c.fromDivPixelToLatLng(b);this.Hg=_.XI(g,b);this.Ig=d(g,b);const h=[];this.Fg=h;a.get("latLngs").forEach(l=>{const n=[];l.forEach(p=>{n.push({heading:d(g,p),distance:_.XI(p,g)})});h.push(n)});this.Dg=g;this.Eg=b.lng()-g.lng()}moveTo(a){a=this.Gg.fromDivPixelToLatLng(a);let b=this.computeOffsetOrigin(a,this.Hg,this.Ig);b?Math.abs(b.lat())>89&&(b=new _.rm(_.tl(b.lat(),-89,
89),b.lng())):b=new _.rm(this.Dg.lat(),a.lng()-this.Eg);this.poly.get("latLngs").forEach((c,d)=>{for(let e=0,f=c.getLength();e<f;++e){const g=this.computeOffset(b,this.Fg[d][e].distance,this.Fg[d][e].heading);c.setAt(e,g)}});this.Dg=b;this.Eg=a.lng()-b.lng()}};var gUa=class extends _.an{constructor(){super(...arguments);this.zIndex=Infinity}Cs(a){return a!=="dragstart"&&a!=="drag"&&a!=="dragend"}Ls(){return this.get("active")?this:null}handleEvent(a,b,c){if(a==="mouseout")this.set("cursor","");else if(a==="mouseover"){const d=this.get("draggableCursor");d&&this.set("cursor",d)}_.Xm(c,a,new _.XD(b.latLng,b.domEvent))}};var jUa={latLngs:1,geodesic:1,icons:1},kUa={strokeColor:1,strokeOpacity:1,strokePosition:1,strokeWeight:1,fillColor:1,fillOpacity:1,hitStrokeWeight:1,zIndex:1,clickable:1,icons:1},YVa=class extends _.an{constructor(a,b){var c=new XVa;super();this.Hg=a;this.Fg=b;this.Gg=c;this.Eg={};this.Dg={};this.timeout=0;const d=this;this.Ig=function(e){mUa(d,this,e)};a.Dg=e=>{this.Jq(e)};a.onRemove=e=>{this.qs(e)}}projection_changed(){const a=this;a.Hg.forEach(b=>{if(b.get("icons")){const c=_.$m(b);a.Dg[c]=b;
NT(b)}});lUa(a)}Jq(a){var b=this.get("projection");b=a.Gg={style:nUa(this.Gg,a),geometry:oUa(a,b)};pUa(this,a);a.changed=this.Ig;_.uq(this.Fg,b)}qs(a){const b=a.Gg;delete a.Gg;this.Fg.remove(b);delete a.changed;NT(a);a=_.$m(a);delete this.Eg[a];delete this.Dg[a]}};var vUa=class{constructor(a){this.Dg=a;_.Hm(a,"set_at",b=>{_.Xm(this,"set_at",b);const c=a.getLength();b===0&&c>1&&_.Xm(this,"set_at",c)});_.Hm(a,"insert_at",b=>{_.Xm(this,"insert_at",b);const c=a.getLength();c===2?_.Xm(this,"insert_at",2):b===0&&c>1&&_.Xm(this,"set_at",c)});_.Hm(a,"remove_at",b=>{_.Xm(this,"remove_at",b);const c=a.getLength();c===1?_.Xm(this,"remove_at",1):b===0&&c>1&&_.Xm(this,"set_at",c)})}getLength(){let a=this.Dg.getLength();a>1&&++a;return a}getAt(a){this.Dg.getLength()===a&&
a>1&&(a=0);return this.Dg.getAt(a)}};var wUa=class extends _.an{constructor(a,b,c){super();this.Dg=a;this.Eg=b;this.interpolate=c;this.oh=[_.Rm(a,"set_at",this,this.Hg),_.Rm(a,"insert_at",this,this.Fg),_.Rm(a,"remove_at",this,this.Gg)];for(let d=0,e=a.getLength();d<e;++d)this.Fg(d)}release(){this.oh.forEach(_.Jm)}geodesic_changed(){qUa(this)}projection_changed(){qUa(this)}Hg(a){rUa(this,!1,a)}Fg(a){rUa(this,!0,a)}Gg(a){const b=this.get("projection");if(b){var c=this.Dg,d=this.Eg,e=this.get("geodesic");a<c.getLength()?(a>0&&d.setAt(a-
1,OT(c.getAt(a-1),c.getAt(a),e,b,this.interpolate)),d.removeAt(a)):a>0&&d.removeAt(a-1)}}};var tUa=class extends _.XD{constructor(a,b,c,d,e){super(a,b);c!==void 0&&(this.path=c);d!==void 0&&(this.vertex=d);e!==void 0&&(this.edge=e)}};var AUa=class extends _.an{panes_changed(){ST(this)}paths_changed(){ST(this)}suppressGhostControlPoints_changed(){ST(this)}constructor(a,b,c,d,e){super();this.Sl=a;this.lm=b;this.Gg=c;this.interpolate=d;this.Yg=e;this.Eg=[];this.Dg=[];this.Fg=[]}map_changed(){this.get("map")||(this.Sl.set("map",null),sUa(this))}};var XT=class extends _.an{constructor(a){super();this.Eg=this.Gg=null;this.Dg=document.createElement("button");this.Dg.type="button";this.Dg.style.background="transparent";this.Dg.style.border="none";this.Dg.style.margin="0";this.Dg.style.padding="0";this.Dg.title="Utols\u00f3 szerkeszt\u00e9s visszavon\u00e1sa";this.Dg.setAttribute("aria-label","Utols\u00f3 szerkeszt\u00e9s visszavon\u00e1sa");const b=document.createElement("span");b.style.display="inline-block";this.Dg.appendChild(b);_.nz(this.Dg,
-202);this.Dg.style.cursor="pointer";this.Dg.style.display="none";this.Sx=_.VL(ZVa,b,_.no,$Va);this.Sx.style.position="relative";_.Rm(this,"toolbar",this,this.Ig);this.Hg=new _.eO(a.yj,{Zn:c=>{c&&(c=new _.Rn(c.jh,c.kh),_.lz(this.Dg,new _.Rn(c.x+aWa.x,c.y+aWa.y)))},xs:()=>{}},null,a);a.Ni(this.Hg);_.jA(this.Dg,{Ck:c=>{_.Vz(c);this.Fg(bWa)},Iq:c=>{_.Wz(c)},yl:c=>{_.Wz(c)},Nk:c=>{_.Xz(c)},Tl:({event:c})=>{_.Uy(c.Dg);c=c.Dg;_.Em(c);_.Fm(c);this.Gg();this.Uj()},pq:{rm:(c,d)=>{_.zva(d)},mn:()=>{},Jm:()=>
{}}});new _.WD(this.Dg,this.Dg,{os:this.Fg.bind(this,_.no),ps:this.Fg.bind(this,cWa)})}panes_changed(){const a=this.get("panes");a?a.floatPane.appendChild(this.Dg):this.Dg.parentNode&&_.Ik(this.Dg)}Uj(){this.Dg.style.display="none";this.Gg=null;BUa(this);this.Eg=null}Ig(a){a.show&&a.poly?a.poly.get("suppressUndo")?this.Uj():(a.Gw&&this.Hg.setPosition(a.Gw),CUa(this,a.action||null,a.poly)):a.poly===this.Eg&&this.Uj()}Fg(a){_.WL(this.Sx,$Va,a)}},ZVa=_.ls("undo_poly"),$Va=new _.Tn(30,27),cWa=new _.Rn(30,
0),bWa=new _.Rn(60,0),aWa=new _.Rn(10,-11);XT.prototype.changed=XT.prototype.Uj;var sVa=class{constructor(a,b,c,d){this.Eg=b;this.Fg=d;this.Dg=null;this.Mk=!1;this.zIndex=30;this.Gg=new _.fO(a.Eg,c,d)}Cs(a,b){if(a!=="dragstart"&&a!=="drag"&&a!=="dragend")return!0;a=(a=(b.Dg||b).get("map"))&&a.get("draggable")!==!1&&a.get("gestureHandling")!=="none";return!!this.Dg||!a}Ls(a,b){var c=this.Fg.get();if(!c)return null;c=c.Bh.size;const d=_.cN(this.Gg,a.ui,dWa);if(!d)return null;const e=new _.Rn(d.st.qh*c.jh,d.st.rh*c.kh),f=new _.Rn(d.wn.qh*c.jh,d.wn.rh*c.kh),g=[];var h=d.lk.Pi;for(var l of Object.values(h))g.push(l);
g.reverse();g.sort((r,u)=>u.zIndex-r.zIndex||0);l=null;h=b?15:0;for(let r=0,u=g.length;r<u;++r){var n=g[r];const w=n.EB;if(!w.clickable)continue;const x=n.YF.Zz;var p=w.cK/2+h;n=DUa(n.paths);if(p=zTa(e.x,e.y,p,n)){l=x;b=this.Fg.get();b=_.KA(b&&b.Bh,{qh:(p[0]+f.x)/c.jh,rh:(p[1]+f.y)/c.kh,zh:d.wn.zh});a.ui=new _.Rn(b.Dg,b.Eg);a.latLng=_.zp(b);break}if(w.lm&&!b&&ATa(e.x,e.y,n)){l=x;break}}return l}handleEvent(a,b,c){!this.Dg||a!=="mousedown"&&a!=="dragstart"&&a!=="drag"||(this.Mk=!0);this.Dg&&!this.Mk&&
(b.ui=this.Dg.ui,b.latLng=this.Dg.latLng);var d=c.Dg||c;!this.Dg&&a==="mousedown"&&d.get("draggable")&&(this.Dg=b,c.set("capturing",!0));d=c;if(this.Dg){if(this.Mk&&a==="dragend"||!this.Mk&&a==="mouseup")this.Mk=!1,this.Dg=null,c.set("capturing",!1);a!=="dragstart"&&a!=="drag"&&a!=="dragend"||!c.Dg||(d=c.Dg);a==="dragstart"&&(a="movestart");a==="drag"&&(a="move");a==="dragend"&&(a="moveend")}else{if(a==="dragstart"||a==="dragend")return;a==="drag"&&(a="mousemove")}a==="mouseout"?this.Eg.set("cursor",
""):a==="mousemove"&&(c=c.get&&c.get("cursor"),c===void 0&&(c="pointer"),this.Eg.set("cursor",c));_.Xm(d,a,new tUa(b.latLng,b.domEvent))}},dWa=new _.Rn(.5,.5);var dVa=()=>[],KUa=()=>{};dVa=a=>{const b=[],c=a.length-2;let d;for(let l=2;l<c;l<<=1){var e=a[0],f=a[1];const n=Math.ceil(c/(2*l)),p=Array(n);let r=0;for(let u=0,w=a.length-1-l;u<w;){u+=l;var g=a[u],h=a[u+1];u+=l;u>a.length-2&&(u=a.length-2);const x=a[u],y=a[u+1],D=g-e,I=h-f;e=x-e;const L=y-f,K=D*e+I*L;f=e*e+L*L;K>=f?(g=x-g,h=y-h,h=g*g+h*h):K<=0?h=D*D+I*I:(h=D*L-I*e,h*=h,h/=f+1E-16);h=Math.sqrt(h);d&&(h+=Math.max(d[2*r],d[2*r+1]||0));p[r++]=h;e=x;f=y}r<n&&(p[r]=d?d[2*r]:0);d=p;b.push(p)}return b};
KUa=(a,b,c,d)=>{--b;if(!(b<0)){var e=a.length,f=0;for(d(0);f<b;){const g=1<<e,h=e?a[e-1][f/g]:0;let l=f+g;l>=b&&(l=b);e&&c(f,l,h)?--e:(d(l),f=l,f&g||++e)}}};var eWa=class{constructor(a,b,c,d){this.zoom=b;this.Bh=d;d=_.cJ(this.Bh,{qh:a.x,rh:a.y,zh:b},16/d.size.jh);d=_.Go(d.min.Dg,d.min.Eg,d.max.Dg,d.max.Eg);this.projection=_.yp(c);var e=d,f=new _.Jp(e.minX,e.minY);e=new _.Jp(e.maxX,e.maxY);d=_.zp(f,c,!0);var g=_.zp(e,c,!0);e=Math.min(d.lat(),g.lat());f=Math.max(d.lat(),g.lat());var h=Math.min(d.lng(),g.lng());g=Math.max(d.lng(),g.lng());d=(h+g)/2;const l=_.ul(d,-180,180);h+=l-d;g+=l-d;d=_.Go(e,h,f,g);e=new _.rm(e,h,!0);h=new _.rm(f,g,!0);f=_.dz(e,c);f=
new _.Rn(f.Dg,f.Eg);e=_.dz(h,c);e=new _.Fo([f,new _.Rn(e.Dg,e.Eg)]);this.Dg=d;this.Fg=e;this.wn=a;a=1<<b;b=this.projection;c=.5/a;d=this.Fg;this.Gg=Math.min(HTa(b,c,new _.Rn(d.minX,d.minY)),HTa(b,c,new _.Rn(d.maxX,d.maxY)));this.Hg=LUa(this.Dg,this.Gg,this.projection);this.Eg=HUa(a)}getBounds(){return this.Dg}};var fWa=class extends _.$r{constructor(a,b,c){super();this.tiles=a;this.Gg=Math.min(2,_.ks());this.Hg=b;this.Eg=c||_.hE}Dg(){return{Bh:this.Eg,ul:2,Vk:this.Fg.bind(this)}}Fg(a,b={}){const c=document.createElement("div");var d=this.Eg.size;c.style.width=`${d.jh}px`;c.style.height=`${d.kh}px`;const e=new _.Rn(a.qh,a.rh);d=this.get("projection");const f=new eWa(e,a.zh,d,this.Eg),g=f.getBounds(),h=this.Hg(this.Gg,c);let l=!1,n;return{Oi:()=>c,km:()=>l,loaded:new Promise(p=>{n={bounds:g,si:e,div:c,FB:h,
Pi:{},xl:()=>{l=!0;p(void 0)},YM:f,zoom:a.zh};_.uq(this.tiles,n)}),release:()=>{c.textContent="";h.release();this.tiles.remove(n);b.bj&&b.bj()}}}};var XUa=class{constructor(a,b,c,d,e){this.mt=a;this.container=b;this.Gg=e;this.Eg=this.Dg=null;this.Pi={};this.Fg=0;this.tileSize=c.size;this.Hg=d}release(){VUa(this)}};var gWa=class{constructor(a,b){this.Bh=a;this.mt=b;this.Dg=null}};var hWa=class{constructor(a,b,c,d){this.Dg=b;this.Eg=d;a.Dg=e=>{$Ua(this,e)};a.onRemove=e=>{aVa(this,e)};c.Dg=e=>{bVa(this,e)};c.onRemove=e=>{cVa(this,e)};Object.values(a.Eg).forEach(e=>{$Ua(this,e)});Object.values(c.Eg).forEach(e=>{bVa(this,e)})}};var vVa=class{constructor(a,b,c){this.poly=a;this.Eg=c;this.Fg=c.fromDivPixelToLatLng(b);this.Dg=[];a.get("latLngs").forEach(d=>{this.Dg.push(d.getArray().slice(0))})}moveTo(a){const b=this.poly.get("latLngs"),c=this.Eg;a=c.fromDivPixelToLatLng(a);a=pT(c,a);const d=pT(c,this.Fg),e=new _.Jp(d.Dg-a.Dg,d.Eg-a.Eg);this.Dg.forEach((f,g)=>{const h=b.getAt(g);f.forEach((l,n)=>{l=pT(c,l);h.setAt(n,qT(c,new _.Jp(l.Dg-e.Dg,l.Eg-e.Eg)))})})}};var mVa=new LT(1),VT=new LT(0),WT=new LT(0);var qVa={value:100,unit:"%"},rVa={value:0,unit:"px"};var XVa=class{constructor(){var a=_.nAa();this.Fg=_.ZBa;this.Dg=_.$Ba;this.Eg=a}};var yVa=class{constructor(a){this.map=a;this.Yg=this.Eg=this.Dg=this.Fg=this.geometry=null;this.Gh=a.__gm;const b=new _.tq;(new YVa(this.Gh.Lg,b)).bindTo("projection",a);var c=_.Go(-100,-200,100,200);const d=new _.bO(c);c=new _.bO(c);this.tiles=new _.tq;new hWa(b,d,this.tiles,c);const e=_.hz(a.getDiv());let f=void 0,g=null;this.Gg=new _.ho(null);_.dN(a,this.Gg,"overlayLayer",30);this.Gh.Eg.then(h=>{this.Yg=h.Yg;xVa(this,h.Yg);_.iy(h.xr,l=>{if(l&&f!==l.Bh){g&&g.unbindAll();f=l.Bh;var n=new gWa(f,e);
g=new fWa(this.tiles,(...p)=>YUa(n,...p),f);g.bindTo("projection",a);this.Gg.set(g.Dg())}})});_.Hm(this.Gh.Lg,"insert",h=>{wVa(this,h)});_.Hm(this.Gh.Lg,"remove",h=>{this.onRemove(h)})}onRemove(a){if(this.Dg&&this.Yg){GT(a);var b=this.Dg;delete a.editable_changed;yUa(a);_.Xm(b,"toolbar",{show:!1,poly:a});a.Kg&&(_.Jm(a.Kg),delete a.Kg);a.set("capturing",!1);delete a.capturing_changed}}};var MVa=class extends _.an{constructor(){super();const a=new _.dw({clickable:!1,fillOpacity:0});a.bindTo("map",this);a.bindTo("strokeColor",this);a.bindTo("strokeOpacity",this);a.bindTo("strokeWeight",this);const b=new _.kN(["bounds","freeControlPoint","freeVertexPosition"],"return",AVa);b.bindTo("bounds",this);b.bindTo("freeControlPoint",this);b.bindTo("freeVertexPosition",this);a.bindTo("bounds",b,"return");this.Dg=_.lN();this.Dg.bindTo("zIndex",this);a.bindTo("zIndex",this.Dg,"ghostZIndex")}};var FVa=[12,6,9,3],GVa=[1,2,4,8],BVa=["ne-resize","nw-resize","se-resize","sw-resize"],DVa=["row-resize","col-resize"],CVa=[0],EVa=[2,1],NVa=class extends _.an{constructor(a,b,c){super();this.Dg=a;this.Gg=this.Ig=null;this.Fg=!1;this.Kg=b;this.Eg=new _.Lo;_.Rm(this.Eg,"set_at",this,this.Lg);this.Hg=new _.Lo;_.Rm(this.Hg,"set_at",this,this.Mg);this.Jg=c}map_changed(){this.get("map")||(this.Dg.set("map",null),YT(this.Ig),this.get("suppressGhostControlPoints")||YT(this.Gg),_.Mm(this.Eg))}bounds_changed(){var a=
this.Eg;const b=this.Hg,c=this.get("bounds");if(c){this.Fg=!0;a.setAt(0,c.getNorthEast());a.setAt(1,_.hy(c));a.setAt(2,_.gy(c));a.setAt(3,c.getSouthWest());a=c.ni.center();var d=c.Kh.center();b.setAt(0,new _.rm(c.ni.lo,d));b.setAt(1,new _.rm(a,c.Kh.lo));b.setAt(2,new _.rm(c.ni.hi,d));b.setAt(3,new _.rm(a,c.Kh.hi));this.Fg=!1;_.Xm(this,"toolbar",{show:!1})}else a.clear(),b.clear()}Lg(a){IVa(this,FVa[a],this.Eg.getAt(a))}Mg(a){IVa(this,GVa[a],this.Hg.getAt(a))}panes_changed(){YT(this.Ig);YT(this.Gg);
this.Gg=null;const a=this.get("panes");a&&(this.Ig=HVa(this,a,!0),this.get("suppressGhostControlPoints")||(this.Gg=HVa(this,a,!1)))}suppressGhostControlPoints_changed(){this.panes_changed()}};var OVa=class{constructor(a,b,c){this.Hg=a;this.Eg=c;a=a.get("bounds");this.Gg=pT(c,a.getSouthWest());this.Fg=pT(c,a.getNorthEast());this.Dg=pT(c,c.fromDivPixelToLatLng(b))}moveTo(a){var b=this.Eg;a=b.fromDivPixelToLatLng(a);b=pT(b,a);a=new _.Jp(this.Fg.Dg-this.Dg.Dg+b.Dg,this.Fg.Eg-this.Dg.Eg+b.Eg);b=new _.yn(qT(this.Eg,new _.Jp(this.Gg.Dg-this.Dg.Dg+b.Dg,this.Gg.Eg-this.Dg.Eg+b.Eg)),qT(this.Eg,a));this.Hg.set("bounds",b)}};var RVa=class extends _.an{constructor(a){super();const b=new _.bw;this.Dg=b;b.Dg=a;b.Ig=!0;b.bindTo("capturing",this);b.bindTo("cursor",this);b.bindTo("map",this);b.bindTo("strokeColor",this);b.bindTo("strokeOpacity",this);b.bindTo("strokeWeight",this);b.bindTo("strokePosition",this);b.bindTo("fillColor",this);b.bindTo("fillOpacity",this);b.bindTo("clickable",this);b.bindTo("zIndex",this);b.bindTo("suppressUndo",this);const c=[];this.Eg=c;KT.forEach(d=>{c.push(_.Vm(b,d,this))});c.push(_.Vm(this,
"toolbar",b))}bounds_changed(){const a=this.Dg;if(a){var b=this.get("bounds");if(b){const c=b.getSouthWest(),d=b.getNorthEast();b=b.getCenter();a.setPaths([new _.rm(d.lat(),d.lng()),new _.rm(d.lat(),b.lng()),new _.rm(d.lat(),c.lng()),new _.rm(c.lat(),c.lng()),new _.rm(c.lat(),b.lng()),new _.rm(c.lat(),d.lng())])}else a.setPaths([])}}release(){const a=this.Eg;for(let b=0,c=a.length;b<c;++b)_.Jm(a[b]);delete this.Eg;this.Dg.unbindAll();delete this.Dg}};var SVa=class{constructor(a){this.Dg=a;this.Yg=this.Eg=null;this.Gh=this.Dg.__gm;this.Gh.Eg.then(({Yg:b})=>{this.Yg=b;QVa(this,b)});this.Gh.Og.Dg=b=>{PVa(this,b)};this.Gh.Og.onRemove=b=>{this.onRemove(b)}}onRemove(a){if(this.Yg){var b=a.Ig;b.unbindAll();b.set("map",null);b.release();delete a.Ig;a.oh&&a.oh.forEach(_.Jm);delete a.oh;GT(a);delete a.editable_changed;KVa(a)}}};var iWa=class{constructor(){this.TH=eUa;this.XH=zVa;this.YH=TVa}};_.Xk("poly",new iWa);});
